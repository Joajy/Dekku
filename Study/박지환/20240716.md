# Array.aslist()를 아시나요?

```java
package makeArray;

import java.util.*;

public class Main {
    public static void main(String[] args) {
        // List<List<Integer>> 생성
        List<List<Integer>> list = new ArrayList<>();

        for (int i = 0; i < 10; i++) {
            List<Integer> innerList = new ArrayList<>(Arrays.asList(i, i+1));
            List<Integer> innerList = new ArrayList<>(List.of(i, i+1));
            list.add(innerList);
        }


        // 결과 출력 (확인용)
        System.out.println(list);
    }
}
```

### - 결과값

<aside>
💡 [[0, 1], [1, 2], [2, 3], [3, 4], [4, 5], [5, 6], [6, 7], [7, 8], [8, 9], [9, 10]]

</aside>

```java
List<Integer> list = Arrays.asList(1, 2, null);
list.set(1, 10); // OK

List<Integer> list = List.of(1, 2, 3);
list.set(1, 10); // Fails with UnsupportedOperationException
```

https://jaehoney.tistory.com/144

### 요약

위에서 언급한 내용을 종합해서 정리한 내용은 다음과 같습니다.

1. Arrays.asList()는 크고 동적인 데이터에 사용하고, List.of()는 작고 변경되지 않는 데이터의 경우 사용합니다.
2. List.of()는 필드 기반 구현이 있고, 내부적으로 힙 공간을 덜 사용하기에 요소 자체가 필요하다면 List.of()가 적절합니다.
3. Arrays.asList()는 변경이 가능하고 thread safety 하지 않고, List.of()는 불변하고 thread safety합니다.
4. Arrays.asList()는 null 요소를 허용하고 List.of()는 null 요소를 허용하지 않습니다.
5. Arrays.asList(), List.of() 모두 크기는 변경할 수 없습니다. 크기를 바꾸려면 Collections을 생성해서 요소의 값을 옮겨야 합니다.

```java
package makeArray;

import java.util.*;

public class Main {
    public static void main(String[] args) {
        // List<List<Integer>> 생성
        List<List<Integer>> list = new ArrayList<>();

        for (int i = 0; i < 10; i++) {
        	List<Integer> innerList = new ArrayList<>(Arrays.asList(i, i+1));
//        	List<Integer> innerList = new ArrayList<>(List.of(i, i+1));
        	Arrays.asList(innerList);
            list.add(innerList);
        }

        list.get(0).add(2);
        list.get(0).remove(0);

        // 결과 출력 (확인용)
        System.out.println(list);
    }
}
```

- 위 코드에서 `List.of(i, i + 1)`는 `i`와 `i + 1`을 포함하는 변경 불가능한 리스트를 생성하지만, `new ArrayList<>(List.of(i, i + 1))`는 이 리스트를 변경 가능한 `ArrayList`로 복사합니다. 따라서 `innerList`는 추가와 삭제가 가능한 리스트가 됩니다.
